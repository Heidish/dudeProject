<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" >
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DUDE</title>

<!-- 부트스트랩 css 사용 -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" media="screen" href="/css/commons.css">
<link rel="stylesheet" type="text/css" media="screen" href="/css/.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <style>
        .title {
            font-weight: bold;
            font-size: 25px;
            height: 70px;
            padding-top: 15px;
            align-content: center;
        }
        .btn {
            width: 130px;
        }
        .btn-style {
            border: none;
            background-color: rgb(226, 225, 225);
            border-radius: 6px;
        }
    </style>
<body>
<div id="wrap">

    <!-- 상단 바 -->
    <div id="top-bar">
        <a th:href="@{/user/login}">
            <img class="logo" th:src="@{/images/logo.png}"/>
        </a>
    </div>

    <!-- contents 영역 -->
    <div class="contents" align="center">
        <div class="title flex">
            출차 요청이 들어왔습니다.
        </div>
            <div class="flex">
                <div class="btn">
                    <input type="button" class="btn-style" value="가능" id="possible_btn" name="response_button">
                </div>
                <div class="btn">
                    <input type="button" class="btn-style" value="불가능" id="impossible_btn" name="response_button">
                </div>
                <div class="btn">
                    <input type="button" class="btn-style" value="전화번호 전송" id="phone_btn" name="response_button">
                </div>
            </div>
    </div>

    <script>
        $(function (){
            $('#possible_btn').on('click',function (){
                const user_response=1
                const user_id="tjddms2565"

                const form = {
                    user_response : user_response,
                    user_id : user_id
                }
                $.ajax({
                    "url": '/service/response' ,
                    "type": 'post',
                    "data" : form,
                    "success" : function (data){
                        alert('처리되었습니다.')
                        location.href='/service/responseTrue'
                    },
                    "fail":function (data) {
                        alert("다시 시도해주세요.")
                    }
                })
            })
        })

        $(function (){
            $('#impossible_btn').on('click',function (){
                const user_response=2
                const user_id="tjddms2565"

                const form = {
                    user_response : user_response,
                    user_id : user_id
                }
                $.ajax({
                    "url": '/service/response' ,
                    "type": 'post',
                    "data" : form,
                    "success" : function (data){
                        alert('처리되었습니다.')
                        location.href='/service/responseTrue'
                    },
                    "fail":function (data) {
                        alert("다시 시도해주세요.")
                    }
                })
            })
        })

        $(function (){
            $('#phone_btn').on('click',function (){
                const user_response=3
                const user_id="tjddms2565"

                const form = {
                    user_response : user_response,
                    user_id : user_id
                }
                $.ajax({
                    "url": '/service/response' ,
                    "type": 'post',
                    "data" : form,
                    "success" : function (data){
                        alert('처리되었습니다.')
                        location.href='/service/responseTrue'
                    },
                    "fail":function (data) {
                        alert("다시 시도해주세요.")
                    }
                })
            })
        })


    </script>

    <!-- footer 영역 -->
    <div id="footer">
        Copyright @ DUDE
    </div>
</div>



<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  
</body>
</html>